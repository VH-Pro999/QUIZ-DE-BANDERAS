<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>QUIZ DE BANDERAS</title>

<style>
body{
    margin:0;
    font-family:Arial,sans-serif;
    background-image:url("https://wallpapers.com/images/hd/high-resolution-3d-aerial-world-map-with-buildings-lf09gl6110je9e91.jpg");
    background-size:cover;
    background-position:center;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
}

.quiz,#difficulty-selection{
    background:rgba(255,255,255,0.95);
    width:380px;
    max-height:90vh;
    padding:18px;
    border-radius:15px;
    box-shadow:0 0 20px rgba(0,0,0,.5);
    text-align:center;
    display:flex;
    flex-direction:column;
}

.flag-box{
    width:100%;
    height:160px;
    margin:10px 0;
    display:flex;
    align-items:center;
    justify-content:center;
}
.flag-box img{
    max-width:100%;
    max-height:100%;
    object-fit:contain;
    border-radius:8px;
    box-shadow:0 0 10px rgba(0,0,0,.3);
}

#options{flex-grow:1;}

button{
    width:100%;
    padding:10px;
    margin:6px 0;
    font-size:16px;
    border:none;
    border-radius:8px;
    cursor:pointer;
}
button:hover{transform:scale(1.03);}

.facil{background:#28a745;color:white;}
.normal{background:#ffc107;color:white;}
.dificil{background:#ff0000;color:white;}
.muy-dificil{background:#800080;color:white;} /* antes hardcore */
.hardcore2{background:#000;color:red;} /* nuevo modo */

.score{
    font-size:16px;
    font-weight:bold;
    margin-top:6px;
}
#message{
    margin-top:6px;
    font-weight:bold;
    min-height:22px;
}
</style>
</head>

<body>

<div id="difficulty-selection">
    <h2>SELECCIONA TU DIFICULTAD:</h2>
    <button class="facil" onclick="startGame('facil')">ğŸ˜„ FÃCIL (25) ğŸ˜„</button>
    <button class="normal" onclick="startGame('normal')">ğŸ˜ NORMAL (50) ğŸ˜</button>
    <button class="dificil" onclick="startGame('dificil')">ğŸ˜¡ DIFÃCIL (100) ğŸ˜¡</button>
    <button class="muy-dificil" onclick="startGame('hardcore')">ğŸ‘¿ MUY DIFÃCIL (211) ğŸ‘¿</button>
    <button class="hardcore2" onclick="startGame('hardcore2')">ğŸ’€ HARDCORE (???) ğŸ’€</button>
</div>

<div class="quiz" id="quiz" style="display:none;">
    <h2>Â¿DE QUÃ‰ PAÃS ES LA BANDERA?</h2>

    <div class="flag-box">
        <img id="flag" alt="Bandera">
    </div>

    <div id="options"></div>
    <div class="score" id="score"></div>
    <div id="message"></div>
</div>

<script>
/* ===== LISTA DE PAÃSES ===== */
const countries = [
{n:"AfganistÃ¡n",c:"AF"},{n:"Albania",c:"AL"},{n:"Argelia",c:"DZ"},
{n:"Andorra",c:"AD"},{n:"Angola",c:"AO"},{n:"Antigua y Barbuda",c:"AG"},
{n:"Argentina",c:"AR"},{n:"Armenia",c:"AM"},{n:"Australia",c:"AU"},
{n:"Austria",c:"AT"},{n:"AzerbaiyÃ¡n",c:"AZ"},{n:"Bahamas",c:"BS"},
{n:"BarÃ©in",c:"BH"},{n:"BangladÃ©s",c:"BD"},{n:"Barbados",c:"BB"},
{n:"BÃ©lgica",c:"BE"},{n:"Belice",c:"BZ"},{n:"BenÃ­n",c:"BJ"},
{n:"ButÃ¡n",c:"BT"},{n:"Bolivia",c:"BO"},{n:"Bosnia y Herzegovina",c:"BA"},
{n:"Botsuana",c:"BW"},{n:"Brasil",c:"BR"},{n:"BrunÃ©i",c:"BN"},
{n:"Bulgaria",c:"BG"},{n:"Burkina Faso",c:"BF"},{n:"Burundi",c:"BI"},
{n:"Camboya",c:"KH"},{n:"CamerÃºn",c:"CM"},{n:"CanadÃ¡",c:"CA"},
{n:"Cabo Verde",c:"CV"},{n:"Chad",c:"TD"},{n:"Chile",c:"CL"},
{n:"China",c:"CN"},{n:"Colombia",c:"CO"},{n:"Comoras",c:"KM"},
{n:"Congo",c:"CG"},{n:"Costa Rica",c:"CR"},{n:"Costa de Marfil",c:"CI"},
{n:"Croacia",c:"HR"},{n:"Cuba",c:"CU"},{n:"Chipre",c:"CY"},
{n:"Chequia",c:"CZ"},{n:"Dinamarca",c:"DK"},{n:"Yibuti",c:"DJ"},
{n:"Dominica",c:"DM"},{n:"RepÃºblica Dominicana",c:"DO"},
{n:"Ecuador",c:"EC"},{n:"Egipto",c:"EG"},{n:"El Salvador",c:"SV"},
{n:"Guinea Ecuatorial",c:"GQ"},{n:"Eritrea",c:"ER"},
{n:"Estonia",c:"EE"},{n:"Esuatini",c:"SZ"},{n:"EtiopÃ­a",c:"ET"},
{n:"Fiyi",c:"FJ"},{n:"Finlandia",c:"FI"},{n:"Francia",c:"FR"},
{n:"GabÃ³n",c:"GA"},{n:"Gambia",c:"GM"},{n:"Georgia",c:"GE"},
{n:"Alemania",c:"DE"},{n:"Ghana",c:"GH"},{n:"Grecia",c:"GR"},
{n:"Granada",c:"GD"},{n:"Guatemala",c:"GT"},{n:"Guinea",c:"GN"},
{n:"Guinea-BisÃ¡u",c:"GW"},{n:"Guyana",c:"GY"},{n:"HaitÃ­",c:"HT"},
{n:"Honduras",c:"HN"},{n:"HungrÃ­a",c:"HU"},{n:"Islandia",c:"IS"},
{n:"India",c:"IN"},{n:"Indonesia",c:"ID"},{n:"IrÃ¡n",c:"IR"},
{n:"Irak",c:"IQ"},{n:"Irlanda",c:"IE"},{n:"Israel",c:"IL"},
{n:"Italia",c:"IT"},{n:"Jamaica",c:"JM"},{n:"JapÃ³n",c:"JP"},
{n:"Jordania",c:"JO"},{n:"KazajistÃ¡n",c:"KZ"},{n:"Kenia",c:"KE"},
{n:"Kiribati",c:"KI"},{n:"Corea del Norte",c:"KP"},{n:"Corea del Sur",c:"KR"},
{n:"Kuwait",c:"KW"},{n:"KirguistÃ¡n",c:"KG"},{n:"Laos",c:"LA"},
{n:"Letonia",c:"LV"},{n:"LÃ­bano",c:"LB"},{n:"Lesoto",c:"LS"},
{n:"Liberia",c:"LR"},{n:"Libia",c:"LY"},{n:"Liechtenstein",c:"LI"},
{n:"Lituania",c:"LT"},{n:"Luxemburgo",c:"LU"},{n:"Madagascar",c:"MG"},
{n:"Malasia",c:"MY"},{n:"Maldivas",c:"MV"},{n:"MalÃ­",c:"ML"},
{n:"Malta",c:"MT"},{n:"Islas Marshall",c:"MH"},{n:"Mauritania",c:"MR"},
{n:"Mauricio",c:"MU"},{n:"MÃ©xico",c:"MX"},{n:"Micronesia",c:"FM"},
{n:"Moldavia",c:"MD"},{n:"MÃ³naco",c:"MC"},{n:"Mongolia",c:"MN"},
{n:"Montenegro",c:"ME"},{n:"Marruecos",c:"MA"},{n:"Mozambique",c:"MZ"},
{n:"Myanmar",c:"MM"},{n:"Namibia",c:"NA"},{n:"Nauru",c:"NR"},
{n:"Nepal",c:"NP"},{n:"PaÃ­ses Bajos",c:"NL"},{n:"Nueva Zelanda",c:"NZ"},
{n:"Nicaragua",c:"NI"},{n:"NÃ­ger",c:"NE"},{n:"Nigeria",c:"NG"},
{n:"Macedonia del Norte",c:"MK"},{n:"Noruega",c:"NO"},{n:"OmÃ¡n",c:"OM"},
{n:"PakistÃ¡n",c:"PK"},{n:"PanamÃ¡",c:"PA"},{n:"PapÃºa Nueva Guinea",c:"PG"},
{n:"Paraguay",c:"PY"},{n:"PerÃº",c:"PE"},{n:"Filipinas",c:"PH"},
{n:"Polonia",c:"PL"},{n:"Portugal",c:"PT"},{n:"Qatar",c:"QA"},
{n:"Rumania",c:"RO"},{n:"Rusia",c:"RU"},{n:"Ruanda",c:"RW"},
{n:"Arabia Saudita",c:"SA"},{n:"Senegal",c:"SN"},{n:"Serbia",c:"RS"},
{n:"Seychelles",c:"SC"},{n:"Sierra Leona",c:"SL"},{n:"Singapur",c:"SG"},
{n:"Eslovaquia",c:"SK"},{n:"Eslovenia",c:"SI"},{n:"Islas SalomÃ³n",c:"SB"},
{n:"Somalia",c:"SO"},{n:"SudÃ¡frica",c:"ZA"},{n:"SudÃ¡n",c:"SD"},
{n:"SudÃ¡n del Sur",c:"SS"},{n:"EspaÃ±a",c:"ES"},{n:"Sri Lanka",c:"LK"},
{n:"Surinam",c:"SR"},{n:"Suecia",c:"SE"},{n:"Suiza",c:"CH"},
{n:"Siria",c:"SY"},{n:"Tailandia",c:"TH"},{n:"Tanzania",c:"TZ"},
{n:"TayikistÃ¡n",c:"TJ"},{n:"Timor Oriental",c:"TL"},{n:"Togo",c:"TG"},
{n:"Tonga",c:"TO"},{n:"Trinidad y Tobago",c:"TT"},{n:"TÃºnez",c:"TN"},
{n:"TurquÃ­a",c:"TR"},{n:"TurkmenistÃ¡n",c:"TM"},{n:"Tuvalu",c:"TV"},
{n:"Uganda",c:"UG"},{n:"Ucrania",c:"UA"},{n:"Emiratos Ãrabes Unidos",c:"AE"},
{n:"Reino Unido",c:"GB"},{n:"Estados Unidos",c:"US"},{n:"Uruguay",c:"UY"},
{n:"UzbekistÃ¡n",c:"UZ"},{n:"Vaticano",c:"VA"},{n:"Venezuela",c:"VE"},
{n:"Vietnam",c:"VN"},{n:"Yemen",c:"YE"},{n:"Zambia",c:"ZM"},
{n:"Zimbabue",c:"ZW"},{n:"Palestina",c:"PS"},{n:"Kosovo",c:"XK"},
{n:"TaiwÃ¡n",c:"TW"},{n:"Puerto Rico",c:"PR"},{n:"Hong Kong",c:"HK"},
{n:"Macao",c:"MO"},{n:"Groenlandia",c:"GL"},{n:"Islas Feroe",c:"FO"},
{n:"Guam",c:"GU"},{n:"Samoa Americana",c:"AS"},{n:"Islas CaimÃ¡n",c:"KY"},
{n:"Islas VÃ­rgenes BritÃ¡nicas",c:"VG"},{n:"Islas VÃ­rgenes de EE. UU.",c:"VI"},
{n:"Bermudas",c:"BM"},{n:"Gibraltar",c:"GI"},{n:"Curazao",c:"CW"},
{n:"Aruba",c:"AW"},{n:"Bonaire",c:"BQ"},{n:"San MartÃ­n",c:"MF"},
{n:"San BartolomÃ©",c:"BL"},{n:"Martinica",c:"MQ"},{n:"Guadalupe",c:"GP"},
{n:"ReuniÃ³n",c:"RE"},{n:"Mayotte",c:"YT"},{n:"Nueva Caledonia",c:"NC"},
{n:"Polinesia Francesa",c:"PF"},{n:"Wallis y Futuna",c:"WF"},
{n:"Islas Malvinas",c:"FK"},{n:"AntÃ¡rtida",c:"AQ"}
];

/* ===== POOLS ===== */
const EASY = [
"Estados Unidos","China","India","Brasil","Rusia",
"JapÃ³n","Alemania","Reino Unido","Francia","Italia",
"CanadÃ¡","MÃ©xico","Australia","EspaÃ±a","Corea del Sur",
"Argentina","Tailandia","PaÃ­ses Bajos","Arabia Saudita","SudÃ¡frica",
"Egipto","Nigeria","Suecia","Suiza","Polonia"
];

const NORMAL = [
...EASY,
"Filipinas","Vietnam","Colombia","PerÃº","PakistÃ¡n",
"Noruega","Nueva Zelanda","IrÃ¡n","Grecia","Portugal",
"Irlanda","HungrÃ­a","Israel","Singapur","BÃ©lgica",
"Dinamarca","Malasia","Chile","Ecuador","Venezuela",
"Costa Rica","BangladÃ©s","Irak","Marruecos","Argelia"
];

const DIFFICULT = [
...NORMAL,
"Irak","Marruecos","Argelia","KazajistÃ¡n","UzbekistÃ¡n",
"TayikistÃ¡n","KirguistÃ¡n","Sri Lanka","Nepal","Camboya",
"Laos","Myanmar","Jordania","Kuwait","OmÃ¡n",
"Qatar","Emiratos Ãrabes Unidos","Bahrein","Islandia","Finlandia",
"Croacia","Serbia","Bosnia y Herzegovina","Montenegro","Macedonia del Norte",
"Rumania","Bulgaria","Eslovaquia","Eslovenia","Letonia",
"Lituania","Estonia","Maldivas","TÃºnez","PanamÃ¡",
"Paraguay","Bolivia","Honduras","Guatemala","El Salvador",
"Nicaragua","Costa Rica","Cuba","RepÃºblica Dominicana","Jamaica",
"HaitÃ­","Trinidad y Tobago","Andorra","Antigua y Barbuda","Bahamas",
"BarÃ©in","Barbados","Belice","BenÃ­n","ButÃ¡n",
"Botsuana","BrunÃ©i","Burkina Faso","Burundi","Cabo Verde"
];

const HARDCORE = countries.map(c=>c.n);

/* ===== CONFIG ===== */
const DIFFICULTY_POOLS = {
    facil:EASY,
    normal:NORMAL,
    dificil:DIFFICULT,
    hardcore:HARDCORE,
    hardcore2:HARDCORE // mismo pool
};

const DIFFICULTY_LIMITS = {
    facil:25,
    normal:50,
    dificil:100,
    hardcore:countries.length,
    hardcore2:countries.length
};

/* ===== VARIABLES ===== */
let active=[],remaining=[],score=0,answered=0,maxQuestions=0,current=null,lock=false,currentMode="";

/* ===== UTIL ===== */
function shuffle(a){
    for(let i=a.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [a[i],a[j]]=[a[j],a[i]];
    }
    return a;
}

/* ===== JUEGO ===== */
function startGame(level){
    document.getElementById("difficulty-selection").style.display="none";
    document.getElementById("quiz").style.display="block";

    currentMode = level; // guardamos el modo actual

    active = countries.filter(c =>
        DIFFICULTY_POOLS[level].includes(c.n)
    );

    maxQuestions = Math.min(
        DIFFICULTY_LIMITS[level],
        active.length
    );

    remaining = shuffle([...active]);
    score = 0;
    answered = 0;

    nextFlag();
}

function nextFlag(){
    lock=false;
    document.getElementById("message").textContent="";

    if(answered >= maxQuestions){
        document.getElementById("message").textContent =
            `ğŸ Adivinaste ${score} de ${maxQuestions} banderas ğŸ`;

        setTimeout(() => {
            document.getElementById("quiz").style.display = "none";
            document.getElementById("difficulty-selection").style.display = "block";
        }, 3000);

        return;
    }

    current = remaining.pop();

    document.getElementById("flag").src=
        `https://flagcdn.com/w320/${current.c.toLowerCase()}.png`;

    const wrong = shuffle(active.filter(c=>c!==current)).slice(0,3);
    const options = shuffle([current.n,...wrong.map(w=>w.n)]);
    const div=document.getElementById("options");
    div.innerHTML="";

    options.forEach(o=>{
        const b=document.createElement("button");
        b.textContent=o;
        b.onclick=()=>check(o);
        div.appendChild(b);
    });

    updateScore();
}

function check(a){
    if(lock) return;
    lock=true;
    answered++;

    const msg=document.getElementById("message");
    if(a===current.n){
        score++;
        msg.textContent="âœ… Correcto";
        msg.style.color="green";
    }else{
        if(currentMode==="hardcore2"){ // fallo en Hardcore 2
            msg.textContent=`ğŸ’€ Incorrecto. Suerte para la prÃ³xima ğŸ’€`;
            msg.style.color="red";
            setTimeout(()=>{
                document.getElementById("quiz").style.display="none";
                document.getElementById("difficulty-selection").style.display="block";
            },1000);
            return;
        }
        msg.textContent=`âŒ Incorrecto. Era ${current.n}`;
        msg.style.color="red";
    }

    updateScore();
    setTimeout(nextFlag,900);
}

function updateScore(){
    document.getElementById("score").textContent=
        `Puntaje: ${score} / ${maxQuestions}`;
}
</script>

</body>
</html>
